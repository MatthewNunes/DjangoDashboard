
<html>
  <head>
    {% load static %}
    <title>Main Page</title>
    <link rel="stylesheet" type="text/css" href="{% static 'Dashboard/main_styles.css' %}">
    <script src="https://d3js.org/d3.v7.min.js"></script>
  </head>
  <body>
    <div class="grid_container">
      <div class="navbar">
        <!-- <ul>
          <li class="primary"><a href="#">Overview</a></li>
          <li><a href="#">Devices</a></li>
          <li><a href="#">Alerts</a></li>
          <li><a href="#">Vulnerabilities</a></li>
        </ul> -->
        <div class="overview-group">
          <button class="accordion">Overview</button>
          <button class="secondary" style="border-bottom: 1px solid black">Network</button>
          <button class="secondary">Table</button>
        </div>
        <button class="accordion">Devices</button>
        <button class="accordion">Alerts</button>
        <button class="accordion">Vulnerabilities</button>
      </div>
      <div class="main_area"></div>
      <div class="network_traffic"></div>
      <div class="registers"></div>
    </div>
  </body>
  <script type="text/javascript" src="{% static 'Dashboard/js/overview.js' %}"></script>
  <script type="text/javascript">
    console.log("I get called");
    var data = JSON.parse("{{dataset|escapejs}}");
    var dst_ips = JSON.parse("{{destination_ips|escapejs}}")
    console.log(dst_ips)
    loadSwatData(data);
  </script>
  <script type="text/javascript">
    var acc = document.getElementsByClassName("accordion");
    var i;

    for (i = 0; i < acc.length; i++) {
      acc[i].addEventListener("click", function() {
      /* Toggle between adding and removing the "active" class,
      to highlight the button that controls the panel */
      this.classList.toggle("active");

      /* Toggle between hiding and showing the active panel */
      var panels = this.parentElement.getElementsByClassName("secondary");
      // var panel = this.nextElementSibling;
      for (let j =0; j<panels.length; j++) {
        if (panels[j].style.display === "block") {
            panels[j].style.display = "none";
            panels[j].style.maxHeight = null;
         } else {
           panels[j].style.display = "block";
           panels[j].style.maxHeight = panels[j].scrollHeight + "px";

         }
       }

       });
     }
  </script>

</html>
